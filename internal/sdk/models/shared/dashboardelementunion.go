// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/criblio/terraform-provider-criblio/internal/sdk/internal/utils"
)

type VariantMarkdown string

const (
	VariantMarkdownMarkdown VariantMarkdown = "markdown"
)

func (e VariantMarkdown) ToPointer() *VariantMarkdown {
	return &e
}
func (e *VariantMarkdown) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "markdown":
		*e = VariantMarkdown(v)
		return nil
	default:
		return fmt.Errorf("invalid value for VariantMarkdown: %v", v)
	}
}

type DashboardElement struct {
	Config          *MarkdownElementConfig `json:"config,omitempty"`
	Description     *string                `json:"description,omitempty"`
	Empty           *bool                  `json:"empty,omitempty"`
	Group           *string                `json:"group,omitempty"`
	HidePanel       *bool                  `default:"false" json:"hidePanel"`
	HorizontalChart *bool                  `default:"false" json:"horizontalChart"`
	ID              string                 `json:"id"`
	Index           *float64               `json:"index,omitempty"`
	Layout          DashboardLayout        `json:"layout"`
	Search          *PanelQueryDefinition  `json:"search,omitempty"`
	Title           *string                `json:"title,omitempty"`
	TitleAction     *TitleAction           `json:"titleAction,omitempty"`
	Type            MarkdownElementType    `json:"type"`
	Variant         VariantMarkdown        `json:"variant"`
}

func (d DashboardElement) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(d, "", false)
}

func (d *DashboardElement) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &d, "", false, []string{"id", "layout", "type", "variant"}); err != nil {
		return err
	}
	return nil
}

func (d *DashboardElement) GetConfig() *MarkdownElementConfig {
	if d == nil {
		return nil
	}
	return d.Config
}

func (d *DashboardElement) GetDescription() *string {
	if d == nil {
		return nil
	}
	return d.Description
}

func (d *DashboardElement) GetEmpty() *bool {
	if d == nil {
		return nil
	}
	return d.Empty
}

func (d *DashboardElement) GetGroup() *string {
	if d == nil {
		return nil
	}
	return d.Group
}

func (d *DashboardElement) GetHidePanel() *bool {
	if d == nil {
		return nil
	}
	return d.HidePanel
}

func (d *DashboardElement) GetHorizontalChart() *bool {
	if d == nil {
		return nil
	}
	return d.HorizontalChart
}

func (d *DashboardElement) GetID() string {
	if d == nil {
		return ""
	}
	return d.ID
}

func (d *DashboardElement) GetIndex() *float64 {
	if d == nil {
		return nil
	}
	return d.Index
}

func (d *DashboardElement) GetLayout() DashboardLayout {
	if d == nil {
		return DashboardLayout{}
	}
	return d.Layout
}

func (d *DashboardElement) GetSearch() *PanelQueryDefinition {
	if d == nil {
		return nil
	}
	return d.Search
}

func (d *DashboardElement) GetTitle() *string {
	if d == nil {
		return nil
	}
	return d.Title
}

func (d *DashboardElement) GetTitleAction() *TitleAction {
	if d == nil {
		return nil
	}
	return d.TitleAction
}

func (d *DashboardElement) GetType() MarkdownElementType {
	if d == nil {
		return MarkdownElementType("")
	}
	return d.Type
}

func (d *DashboardElement) GetVariant() VariantMarkdown {
	if d == nil {
		return VariantMarkdown("")
	}
	return d.Variant
}

type VariantInput string

const (
	VariantInputInput VariantInput = "input"
)

func (e VariantInput) ToPointer() *VariantInput {
	return &e
}
func (e *VariantInput) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "input":
		*e = VariantInput(v)
		return nil
	default:
		return fmt.Errorf("invalid value for VariantInput: %v", v)
	}
}

type DashboardElementInput struct {
	Config          *InputElementConfig `json:"config,omitempty"`
	Description     *string             `json:"description,omitempty"`
	Empty           *bool               `json:"empty,omitempty"`
	Group           *string             `json:"group,omitempty"`
	HidePanel       *bool               `default:"false" json:"hidePanel"`
	HorizontalChart *bool               `default:"false" json:"horizontalChart"`
	ID              string              `json:"id"`
	Index           *float64            `json:"index,omitempty"`
	InputID         string              `json:"inputId"`
	Layout          DashboardLayout     `json:"layout"`
	Search          *SearchQuery        `json:"search,omitempty"`
	// Title of the element.
	Title       *string          `json:"title,omitempty"`
	TitleAction *TitleAction     `json:"titleAction,omitempty"`
	Type        InputElementType `json:"type"`
	Value       map[string]any   `json:"value,omitempty"`
	Variant     *VariantInput    `json:"variant,omitempty"`
}

func (d DashboardElementInput) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(d, "", false)
}

func (d *DashboardElementInput) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &d, "", false, []string{"id", "inputId", "layout", "type"}); err != nil {
		return err
	}
	return nil
}

func (d *DashboardElementInput) GetConfig() *InputElementConfig {
	if d == nil {
		return nil
	}
	return d.Config
}

func (d *DashboardElementInput) GetDescription() *string {
	if d == nil {
		return nil
	}
	return d.Description
}

func (d *DashboardElementInput) GetEmpty() *bool {
	if d == nil {
		return nil
	}
	return d.Empty
}

func (d *DashboardElementInput) GetGroup() *string {
	if d == nil {
		return nil
	}
	return d.Group
}

func (d *DashboardElementInput) GetHidePanel() *bool {
	if d == nil {
		return nil
	}
	return d.HidePanel
}

func (d *DashboardElementInput) GetHorizontalChart() *bool {
	if d == nil {
		return nil
	}
	return d.HorizontalChart
}

func (d *DashboardElementInput) GetID() string {
	if d == nil {
		return ""
	}
	return d.ID
}

func (d *DashboardElementInput) GetIndex() *float64 {
	if d == nil {
		return nil
	}
	return d.Index
}

func (d *DashboardElementInput) GetInputID() string {
	if d == nil {
		return ""
	}
	return d.InputID
}

func (d *DashboardElementInput) GetLayout() DashboardLayout {
	if d == nil {
		return DashboardLayout{}
	}
	return d.Layout
}

func (d *DashboardElementInput) GetSearch() *SearchQuery {
	if d == nil {
		return nil
	}
	return d.Search
}

func (d *DashboardElementInput) GetTitle() *string {
	if d == nil {
		return nil
	}
	return d.Title
}

func (d *DashboardElementInput) GetTitleAction() *TitleAction {
	if d == nil {
		return nil
	}
	return d.TitleAction
}

func (d *DashboardElementInput) GetType() InputElementType {
	if d == nil {
		return InputElementType("")
	}
	return d.Type
}

func (d *DashboardElementInput) GetValue() map[string]any {
	if d == nil {
		return nil
	}
	return d.Value
}

func (d *DashboardElementInput) GetVariant() *VariantInput {
	if d == nil {
		return nil
	}
	return d.Variant
}

type VariantVisualization string

const (
	VariantVisualizationVisualization VariantVisualization = "visualization"
)

func (e VariantVisualization) ToPointer() *VariantVisualization {
	return &e
}
func (e *VariantVisualization) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "visualization":
		*e = VariantVisualization(v)
		return nil
	default:
		return fmt.Errorf("invalid value for VariantVisualization: %v", v)
	}
}

type DashboardElementVisualization struct {
	Config          map[string]any  `json:"config,omitempty"`
	Description     *string         `json:"description,omitempty"`
	Empty           *bool           `json:"empty,omitempty"`
	Group           *string         `json:"group,omitempty"`
	HidePanel       *bool           `default:"false" json:"hidePanel"`
	HorizontalChart *bool           `default:"false" json:"horizontalChart"`
	ID              string          `json:"id"`
	Index           *float64        `json:"index,omitempty"`
	Layout          DashboardLayout `json:"layout"`
	Search          SearchQuery     `json:"search"`
	// Title of the element.
	Title       *string                  `json:"title,omitempty"`
	TitleAction *TitleAction             `json:"titleAction,omitempty"`
	Type        VisualizationElementType `json:"type"`
	Variant     *VariantVisualization    `json:"variant,omitempty"`
}

func (d DashboardElementVisualization) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(d, "", false)
}

func (d *DashboardElementVisualization) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &d, "", false, []string{"id", "layout", "search", "type"}); err != nil {
		return err
	}
	return nil
}

func (d *DashboardElementVisualization) GetConfig() map[string]any {
	if d == nil {
		return nil
	}
	return d.Config
}

func (d *DashboardElementVisualization) GetDescription() *string {
	if d == nil {
		return nil
	}
	return d.Description
}

func (d *DashboardElementVisualization) GetEmpty() *bool {
	if d == nil {
		return nil
	}
	return d.Empty
}

func (d *DashboardElementVisualization) GetGroup() *string {
	if d == nil {
		return nil
	}
	return d.Group
}

func (d *DashboardElementVisualization) GetHidePanel() *bool {
	if d == nil {
		return nil
	}
	return d.HidePanel
}

func (d *DashboardElementVisualization) GetHorizontalChart() *bool {
	if d == nil {
		return nil
	}
	return d.HorizontalChart
}

func (d *DashboardElementVisualization) GetID() string {
	if d == nil {
		return ""
	}
	return d.ID
}

func (d *DashboardElementVisualization) GetIndex() *float64 {
	if d == nil {
		return nil
	}
	return d.Index
}

func (d *DashboardElementVisualization) GetLayout() DashboardLayout {
	if d == nil {
		return DashboardLayout{}
	}
	return d.Layout
}

func (d *DashboardElementVisualization) GetSearch() SearchQuery {
	if d == nil {
		return SearchQuery{}
	}
	return d.Search
}

func (d *DashboardElementVisualization) GetTitle() *string {
	if d == nil {
		return nil
	}
	return d.Title
}

func (d *DashboardElementVisualization) GetTitleAction() *TitleAction {
	if d == nil {
		return nil
	}
	return d.TitleAction
}

func (d *DashboardElementVisualization) GetType() VisualizationElementType {
	if d == nil {
		return VisualizationElementType("")
	}
	return d.Type
}

func (d *DashboardElementVisualization) GetVariant() *VariantVisualization {
	if d == nil {
		return nil
	}
	return d.Variant
}

type DashboardElementUnionType string

const (
	DashboardElementUnionTypeDashboardElementVisualization DashboardElementUnionType = "DashboardElement_Visualization"
	DashboardElementUnionTypeDashboardElementInput         DashboardElementUnionType = "DashboardElement_Input"
	DashboardElementUnionTypeDashboardElement              DashboardElementUnionType = "DashboardElement"
)

type DashboardElementUnion struct {
	DashboardElementVisualization *DashboardElementVisualization `queryParam:"inline,name=DashboardElement"`
	DashboardElementInput         *DashboardElementInput         `queryParam:"inline,name=DashboardElement"`
	DashboardElement              *DashboardElement              `queryParam:"inline,name=DashboardElement"`

	Type DashboardElementUnionType
}

func CreateDashboardElementUnionDashboardElementVisualization(dashboardElementVisualization DashboardElementVisualization) DashboardElementUnion {
	typ := DashboardElementUnionTypeDashboardElementVisualization

	return DashboardElementUnion{
		DashboardElementVisualization: &dashboardElementVisualization,
		Type:                          typ,
	}
}

func CreateDashboardElementUnionDashboardElementInput(dashboardElementInput DashboardElementInput) DashboardElementUnion {
	typ := DashboardElementUnionTypeDashboardElementInput

	return DashboardElementUnion{
		DashboardElementInput: &dashboardElementInput,
		Type:                  typ,
	}
}

func CreateDashboardElementUnionDashboardElement(dashboardElement DashboardElement) DashboardElementUnion {
	typ := DashboardElementUnionTypeDashboardElement

	return DashboardElementUnion{
		DashboardElement: &dashboardElement,
		Type:             typ,
	}
}

func (u *DashboardElementUnion) UnmarshalJSON(data []byte) error {

	var candidates []utils.UnionCandidate

	// Collect all valid candidates
	var dashboardElementVisualization DashboardElementVisualization = DashboardElementVisualization{}
	if err := utils.UnmarshalJSON(data, &dashboardElementVisualization, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  DashboardElementUnionTypeDashboardElementVisualization,
			Value: &dashboardElementVisualization,
		})
	}

	var dashboardElementInput DashboardElementInput = DashboardElementInput{}
	if err := utils.UnmarshalJSON(data, &dashboardElementInput, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  DashboardElementUnionTypeDashboardElementInput,
			Value: &dashboardElementInput,
		})
	}

	var dashboardElement DashboardElement = DashboardElement{}
	if err := utils.UnmarshalJSON(data, &dashboardElement, "", true, nil); err == nil {
		candidates = append(candidates, utils.UnionCandidate{
			Type:  DashboardElementUnionTypeDashboardElement,
			Value: &dashboardElement,
		})
	}

	if len(candidates) == 0 {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for DashboardElementUnion", string(data))
	}

	// Pick the best candidate using multi-stage filtering
	best := utils.PickBestCandidate(candidates)
	if best == nil {
		return fmt.Errorf("could not unmarshal `%s` into any supported union types for DashboardElementUnion", string(data))
	}

	// Set the union type and value based on the best candidate
	u.Type = best.Type.(DashboardElementUnionType)
	switch best.Type {
	case DashboardElementUnionTypeDashboardElementVisualization:
		u.DashboardElementVisualization = best.Value.(*DashboardElementVisualization)
		return nil
	case DashboardElementUnionTypeDashboardElementInput:
		u.DashboardElementInput = best.Value.(*DashboardElementInput)
		return nil
	case DashboardElementUnionTypeDashboardElement:
		u.DashboardElement = best.Value.(*DashboardElement)
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for DashboardElementUnion", string(data))
}

func (u DashboardElementUnion) MarshalJSON() ([]byte, error) {
	if u.DashboardElementVisualization != nil {
		return utils.MarshalJSON(u.DashboardElementVisualization, "", true)
	}

	if u.DashboardElementInput != nil {
		return utils.MarshalJSON(u.DashboardElementInput, "", true)
	}

	if u.DashboardElement != nil {
		return utils.MarshalJSON(u.DashboardElement, "", true)
	}

	return nil, errors.New("could not marshal union type DashboardElementUnion: all fields are null")
}
