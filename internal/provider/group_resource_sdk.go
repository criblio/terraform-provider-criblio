// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	tfTypes "github.com/criblio/terraform-provider-criblio/internal/provider/types"
	"github.com/criblio/terraform-provider-criblio/internal/sdk/models/operations"
	"github.com/criblio/terraform-provider-criblio/internal/sdk/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *GroupResourceModel) RefreshFromOperationsGetGroupsByIDResponseBody(ctx context.Context, resp *operations.GetGroupsByIDResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
	}

	return diags
}

func (r *GroupResourceModel) RefreshFromSharedConfigGroup(ctx context.Context, resp *shared.ConfigGroup) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp.Cloud == nil {
		r.Cloud = nil
	} else {
		r.Cloud = &tfTypes.ConfigGroupCloud{}
		if resp.Cloud.Provider != nil {
			r.Cloud.Provider = types.StringValue(string(*resp.Cloud.Provider))
		} else {
			r.Cloud.Provider = types.StringNull()
		}
		r.Cloud.Region = types.StringValue(resp.Cloud.Region)
	}
	r.Description = types.StringPointerValue(resp.Description)
	r.EstimatedIngestRate = types.Float64PointerValue(resp.EstimatedIngestRate)
	r.ID = types.StringValue(resp.ID)
	r.IsFleet = types.BoolPointerValue(resp.IsFleet)
	r.MaxWorkerAge = types.StringPointerValue(resp.MaxWorkerAge)
	r.Name = types.StringPointerValue(resp.Name)
	r.OnPrem = types.BoolPointerValue(resp.OnPrem)
	r.Provisioned = types.BoolPointerValue(resp.Provisioned)
	r.Streamtags = make([]types.String, 0, len(resp.Streamtags))
	for _, v := range resp.Streamtags {
		r.Streamtags = append(r.Streamtags, types.StringValue(v))
	}
	r.Tags = types.StringPointerValue(resp.Tags)
	if resp.Type != nil {
		r.Type = types.StringValue(string(*resp.Type))
	} else {
		r.Type = types.StringNull()
	}
	r.WorkerRemoteAccess = types.BoolPointerValue(resp.WorkerRemoteAccess)

	return diags
}

func (r *GroupResourceModel) ToOperationsCreateProductsGroupsByProductRequest(ctx context.Context) (*operations.CreateProductsGroupsByProductRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	product := operations.CreateProductsGroupsByProductProduct(r.Product.ValueString())
	configGroup, configGroupDiags := r.ToSharedConfigGroup(ctx)
	diags.Append(configGroupDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.CreateProductsGroupsByProductRequest{
		Product:     product,
		ConfigGroup: *configGroup,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsDeleteGroupsByIDRequest(ctx context.Context) (*operations.DeleteGroupsByIDRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	out := operations.DeleteGroupsByIDRequest{
		ID: id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsGetGroupsByIDRequest(ctx context.Context) (*operations.GetGroupsByIDRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	out := operations.GetGroupsByIDRequest{
		ID: id,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToOperationsUpdateGroupsByIDRequest(ctx context.Context) (*operations.UpdateGroupsByIDRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	configGroup, configGroupDiags := r.ToSharedConfigGroup(ctx)
	diags.Append(configGroupDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.UpdateGroupsByIDRequest{
		ID:          id,
		ConfigGroup: *configGroup,
	}

	return &out, diags
}

func (r *GroupResourceModel) ToSharedConfigGroup(ctx context.Context) (*shared.ConfigGroup, diag.Diagnostics) {
	var diags diag.Diagnostics

	var cloud *shared.ConfigGroupCloud
	if r.Cloud != nil {
		provider := new(shared.CloudProvider)
		if !r.Cloud.Provider.IsUnknown() && !r.Cloud.Provider.IsNull() {
			*provider = shared.CloudProvider(r.Cloud.Provider.ValueString())
		} else {
			provider = nil
		}
		var region string
		region = r.Cloud.Region.ValueString()

		cloud = &shared.ConfigGroupCloud{
			Provider: provider,
			Region:   region,
		}
	}
	description := new(string)
	if !r.Description.IsUnknown() && !r.Description.IsNull() {
		*description = r.Description.ValueString()
	} else {
		description = nil
	}
	estimatedIngestRate := new(float64)
	if !r.EstimatedIngestRate.IsUnknown() && !r.EstimatedIngestRate.IsNull() {
		*estimatedIngestRate = r.EstimatedIngestRate.ValueFloat64()
	} else {
		estimatedIngestRate = nil
	}
	var id string
	id = r.ID.ValueString()

	isFleet := new(bool)
	if !r.IsFleet.IsUnknown() && !r.IsFleet.IsNull() {
		*isFleet = r.IsFleet.ValueBool()
	} else {
		isFleet = nil
	}
	name := new(string)
	if !r.Name.IsUnknown() && !r.Name.IsNull() {
		*name = r.Name.ValueString()
	} else {
		name = nil
	}
	onPrem := new(bool)
	if !r.OnPrem.IsUnknown() && !r.OnPrem.IsNull() {
		*onPrem = r.OnPrem.ValueBool()
	} else {
		onPrem = nil
	}
	provisioned := new(bool)
	if !r.Provisioned.IsUnknown() && !r.Provisioned.IsNull() {
		*provisioned = r.Provisioned.ValueBool()
	} else {
		provisioned = nil
	}
	streamtags := make([]string, 0, len(r.Streamtags))
	for _, streamtagsItem := range r.Streamtags {
		streamtags = append(streamtags, streamtagsItem.ValueString())
	}
	tags := new(string)
	if !r.Tags.IsUnknown() && !r.Tags.IsNull() {
		*tags = r.Tags.ValueString()
	} else {
		tags = nil
	}
	typeVar := new(shared.ConfigGroupType)
	if !r.Type.IsUnknown() && !r.Type.IsNull() {
		*typeVar = shared.ConfigGroupType(r.Type.ValueString())
	} else {
		typeVar = nil
	}
	workerRemoteAccess := new(bool)
	if !r.WorkerRemoteAccess.IsUnknown() && !r.WorkerRemoteAccess.IsNull() {
		*workerRemoteAccess = r.WorkerRemoteAccess.ValueBool()
	} else {
		workerRemoteAccess = nil
	}
	maxWorkerAge := new(string)
	if !r.MaxWorkerAge.IsUnknown() && !r.MaxWorkerAge.IsNull() {
		*maxWorkerAge = r.MaxWorkerAge.ValueString()
	} else {
		maxWorkerAge = nil
	}
	out := shared.ConfigGroup{
		Cloud:               cloud,
		Description:         description,
		EstimatedIngestRate: estimatedIngestRate,
		ID:                  id,
		IsFleet:             isFleet,
		Name:                name,
		OnPrem:              onPrem,
		Provisioned:         provisioned,
		Streamtags:          streamtags,
		Tags:                tags,
		Type:                typeVar,
		WorkerRemoteAccess:  workerRemoteAccess,
		MaxWorkerAge:        maxWorkerAge,
	}

	return &out, diags
}
