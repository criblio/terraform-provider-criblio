// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"encoding/json"
	tfTypes "github.com/criblio/terraform-provider-criblio/internal/provider/types"
	"github.com/criblio/terraform-provider-criblio/internal/sdk/models/operations"
	"github.com/hashicorp/terraform-plugin-framework-jsontypes/jsontypes"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *SearchDashboardDataSourceModel) RefreshFromOperationsListSearchDashboardResponseBody(ctx context.Context, resp *operations.ListSearchDashboardResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.Items = []tfTypes.SearchDashboard{}

		for _, itemsItem := range resp.Items {
			var items tfTypes.SearchDashboard

			items.CacheTTLSeconds = types.Float64PointerValue(itemsItem.CacheTTLSeconds)
			items.Category = types.StringPointerValue(itemsItem.Category)
			items.Created = types.Float64Value(itemsItem.Created)
			items.CreatedBy = types.StringValue(itemsItem.CreatedBy)
			items.Description = types.StringPointerValue(itemsItem.Description)
			items.DisplayCreatedBy = types.StringPointerValue(itemsItem.DisplayCreatedBy)
			items.DisplayModifiedBy = types.StringPointerValue(itemsItem.DisplayModifiedBy)
			items.Elements = []tfTypes.ElementUnion{}

			for _, elementsItem := range itemsItem.Elements {
				var elements tfTypes.ElementUnion

				if elementsItem.Element != nil {
					elements.Element = &tfTypes.Element{}
					elements.Element.Description = types.StringPointerValue(elementsItem.Element.Description)
					elements.Element.Empty = types.BoolPointerValue(elementsItem.Element.Empty)
					elements.Element.HidePanel = types.BoolPointerValue(elementsItem.Element.HidePanel)
					elements.Element.HorizontalChart = types.BoolPointerValue(elementsItem.Element.HorizontalChart)
					elements.Element.ID = types.StringValue(elementsItem.Element.ID)
					elements.Element.Index = types.Float64PointerValue(elementsItem.Element.Index)
					elements.Element.InputID = types.StringPointerValue(elementsItem.Element.InputID)
					elements.Element.Layout.H = types.Float64Value(elementsItem.Element.Layout.H)
					elements.Element.Layout.W = types.Float64Value(elementsItem.Element.Layout.W)
					elements.Element.Layout.X = types.Float64Value(elementsItem.Element.Layout.X)
					elements.Element.Layout.Y = types.Float64Value(elementsItem.Element.Layout.Y)
					if elementsItem.Element.Search.SearchQuerySaved != nil {
						elements.Element.Search.SearchQuerySaved = &tfTypes.SearchQuerySaved{}
						elements.Element.Search.SearchQuerySaved.Query = types.StringPointerValue(elementsItem.Element.Search.SearchQuerySaved.Query)
						elements.Element.Search.SearchQuerySaved.QueryID = types.StringValue(elementsItem.Element.Search.SearchQuerySaved.QueryID)
						if elementsItem.Element.Search.SearchQuerySaved.RunMode != nil {
							elements.Element.Search.SearchQuerySaved.RunMode = types.StringValue(string(*elementsItem.Element.Search.SearchQuerySaved.RunMode))
						} else {
							elements.Element.Search.SearchQuerySaved.RunMode = types.StringNull()
						}
						elements.Element.Search.SearchQuerySaved.Type = types.StringValue(string(elementsItem.Element.Search.SearchQuerySaved.Type))
					}
					if elementsItem.Element.Search.SearchQueryInline != nil {
						elements.Element.Search.SearchQueryInline = &tfTypes.SearchQueryInline{}
						if elementsItem.Element.Search.SearchQueryInline.Earliest != nil {
							elements.Element.Search.SearchQueryInline.Earliest = &tfTypes.SearchQueryEarliest{}
							if elementsItem.Element.Search.SearchQueryInline.Earliest.Str != nil {
								elements.Element.Search.SearchQueryInline.Earliest.Str = types.StringPointerValue(elementsItem.Element.Search.SearchQueryInline.Earliest.Str)
							}
							if elementsItem.Element.Search.SearchQueryInline.Earliest.Number != nil {
								elements.Element.Search.SearchQueryInline.Earliest.Number = types.Float64PointerValue(elementsItem.Element.Search.SearchQueryInline.Earliest.Number)
							}
						}
						if elementsItem.Element.Search.SearchQueryInline.Latest != nil {
							elements.Element.Search.SearchQueryInline.Latest = &tfTypes.SearchQueryLatest{}
							if elementsItem.Element.Search.SearchQueryInline.Latest.Str != nil {
								elements.Element.Search.SearchQueryInline.Latest.Str = types.StringPointerValue(elementsItem.Element.Search.SearchQueryInline.Latest.Str)
							}
							if elementsItem.Element.Search.SearchQueryInline.Latest.Number != nil {
								elements.Element.Search.SearchQueryInline.Latest.Number = types.Float64PointerValue(elementsItem.Element.Search.SearchQueryInline.Latest.Number)
							}
						}
						elements.Element.Search.SearchQueryInline.ParentSearchID = types.StringPointerValue(elementsItem.Element.Search.SearchQueryInline.ParentSearchID)
						elements.Element.Search.SearchQueryInline.Query = types.StringPointerValue(elementsItem.Element.Search.SearchQueryInline.Query)
						elements.Element.Search.SearchQueryInline.SampleRate = types.Float64PointerValue(elementsItem.Element.Search.SearchQueryInline.SampleRate)
						elements.Element.Search.SearchQueryInline.Timezone = types.StringPointerValue(elementsItem.Element.Search.SearchQueryInline.Timezone)
						elements.Element.Search.SearchQueryInline.Type = types.StringValue(string(elementsItem.Element.Search.SearchQueryInline.Type))
					}
					if elementsItem.Element.Search.SearchQueryValues != nil {
						elements.Element.Search.SearchQueryValues = &tfTypes.SearchQueryValues{}
						elements.Element.Search.SearchQueryValues.Type = types.StringValue(string(elementsItem.Element.Search.SearchQueryValues.Type))
						elements.Element.Search.SearchQueryValues.Values = make([]types.String, 0, len(elementsItem.Element.Search.SearchQueryValues.Values))
						for _, v := range elementsItem.Element.Search.SearchQueryValues.Values {
							elements.Element.Search.SearchQueryValues.Values = append(elements.Element.Search.SearchQueryValues.Values, types.StringValue(v))
						}
					}
					elements.Element.Title = types.StringPointerValue(elementsItem.Element.Title)
					elements.Element.Type = types.StringValue(string(elementsItem.Element.Type))
					if len(elementsItem.Element.Value) > 0 {
						elements.Element.Value = make(map[string]jsontypes.Normalized, len(elementsItem.Element.Value))
						for key, value := range elementsItem.Element.Value {
							result, _ := json.Marshal(value)
							elements.Element.Value[key] = jsontypes.NewNormalizedValue(string(result))
						}
					}
					if elementsItem.Element.Variant != nil {
						elements.Element.Variant = types.StringValue(string(*elementsItem.Element.Variant))
					} else {
						elements.Element.Variant = types.StringNull()
					}
				}
				if elementsItem.ElementMarkdown != nil {
					elements.ElementMarkdown = &tfTypes.ElementMarkdown{}
					elements.ElementMarkdown.Description = types.StringPointerValue(elementsItem.ElementMarkdown.Description)
					elements.ElementMarkdown.Empty = types.BoolPointerValue(elementsItem.ElementMarkdown.Empty)
					elements.ElementMarkdown.HidePanel = types.BoolPointerValue(elementsItem.ElementMarkdown.HidePanel)
					elements.ElementMarkdown.ID = types.StringValue(elementsItem.ElementMarkdown.ID)
					elements.ElementMarkdown.Index = types.Float64PointerValue(elementsItem.ElementMarkdown.Index)
					elements.ElementMarkdown.Layout.H = types.Float64Value(elementsItem.ElementMarkdown.Layout.H)
					elements.ElementMarkdown.Layout.W = types.Float64Value(elementsItem.ElementMarkdown.Layout.W)
					elements.ElementMarkdown.Layout.X = types.Float64Value(elementsItem.ElementMarkdown.Layout.X)
					elements.ElementMarkdown.Layout.Y = types.Float64Value(elementsItem.ElementMarkdown.Layout.Y)
					elements.ElementMarkdown.Title = types.StringPointerValue(elementsItem.ElementMarkdown.Title)
					elements.ElementMarkdown.Type = types.StringValue(string(elementsItem.ElementMarkdown.Type))
					elements.ElementMarkdown.Value = types.StringPointerValue(elementsItem.ElementMarkdown.Value)
					elements.ElementMarkdown.Variant = types.StringValue(string(elementsItem.ElementMarkdown.Variant))
				}

				items.Elements = append(items.Elements, elements)
			}
			items.ID = types.StringValue(itemsItem.ID)
			items.Modified = types.Float64Value(itemsItem.Modified)
			items.ModifiedBy = types.StringPointerValue(itemsItem.ModifiedBy)
			items.Name = types.StringValue(itemsItem.Name)
			items.PackID = types.StringPointerValue(itemsItem.PackID)
			items.RefreshRate = types.Float64PointerValue(itemsItem.RefreshRate)
			items.ResolvedDatasetIds = make([]types.String, 0, len(itemsItem.ResolvedDatasetIds))
			for _, v := range itemsItem.ResolvedDatasetIds {
				items.ResolvedDatasetIds = append(items.ResolvedDatasetIds, types.StringValue(v))
			}
			if itemsItem.Schedule == nil {
				items.Schedule = nil
			} else {
				items.Schedule = &tfTypes.SavedQuerySchedule{}
				items.Schedule.CronSchedule = types.StringValue(itemsItem.Schedule.CronSchedule)
				items.Schedule.Enabled = types.BoolValue(itemsItem.Schedule.Enabled)
				items.Schedule.KeepLastN = types.Float64Value(itemsItem.Schedule.KeepLastN)
				items.Schedule.Notifications.Disabled = types.BoolValue(itemsItem.Schedule.Notifications.Disabled)
				items.Schedule.Tz = types.StringValue(itemsItem.Schedule.Tz)
			}

			r.Items = append(r.Items, items)
		}
	}

	return diags
}
