---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "criblio_appscope_config Resource - terraform-provider-criblio"
subcategory: ""
description: |-
  AppscopeConfig Resource
---

# criblio_appscope_config (Resource)

AppscopeConfig Resource

## Example Usage

```terraform
resource "criblio_appscope_config" "my_appscopeconfig" {
  config = {
    cribl = {
      authtoken = "myAuthToken123"
      enable    = true
      transport = {
        buffer = "line"
        host   = "localhost"
        path   = "/var/run/appscope.sock"
        port   = 8080
        tls = {
          cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
          enable         = true
          validateserver = false
        }
        type = "tcp"
      }
      use_scope_source_transport = false
    }
    custom = [
      {
        ancestor = "parentProcess"
        arg      = "--debug"
        config = {
          cribl = {
            authtoken = "myAuthToken123"
            enable    = true
            transport = {
              buffer = "line"
              host   = "localhost"
              path   = "/var/run/appscope.sock"
              port   = 8080
              tls = {
                cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
                enable         = true
                validateserver = false
              }
              type = "tcp"
            }
            use_scope_source_transport = false
          }
          event = {
            enable = true
            format = {
              enhancefs      = false
              maxeventpersec = 100
            }
            transport = {
              buffer = "line"
              host   = "localhost"
              path   = "/var/run/appscope.sock"
              port   = 8080
              tls = {
                cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
                enable         = true
                validateserver = false
              }
              type = "tcp"
            }
            type = "ndjson"
            watch = [
              {
                allowbinary = false
                enabled     = true
                field       = "http.method"
                headers = [
                  "Content-Type"
                ]
                name  = "RequestEvents"
                type  = "match"
                value = "GET"
              }
            ]
          }
          libscope = {
            config = {
              enable = true
              format = {
                level   = "info"
                maxline = 1024
              }
              log = {
                level = "debug"
                transport = {
                  buffer = "line"
                  host   = "localhost"
                  path   = "/var/run/appscope.sock"
                  port   = 8080
                  tls = {
                    cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
                    enable         = true
                    validateserver = false
                  }
                  type = "tcp"
                }
              }
              transport = {
                buffer = "line"
                host   = "localhost"
                path   = "/var/run/appscope.sock"
                port   = 8080
                tls = {
                  cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
                  enable         = true
                  validateserver = false
                }
                type = "tcp"
              }
            }
          }
          metric = {
            enable       = true
            format       = "statsd"
            statsdmaxlen = 512
            transport = {
              buffer = "line"
              host   = "localhost"
              path   = "/var/run/appscope.sock"
              port   = 8080
              tls = {
                cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
                enable         = true
                validateserver = false
              }
              type = "tcp"
            }
          }
          payload = {
            dir    = "/var/log/appscope/payloads"
            enable = false
          }
          protocol = [
            {
              binary  = false
              detect  = true
              len     = 128
              name    = "http"
              payload = true
              regex   = ".*"
            }
          ]
          tags = [
            {
              key   = "env"
              value = "prod"
            }
          ]
        }
        env      = "production"
        hostname = "host123.example.com"
        procname = "myprocess"
        username = "appuser"
      }
    ]
    event = {
      enable = true
      format = {
        enhancefs      = false
        maxeventpersec = 100
      }
      transport = {
        buffer = "line"
        host   = "localhost"
        path   = "/var/run/appscope.sock"
        port   = 8080
        tls = {
          cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
          enable         = true
          validateserver = false
        }
        type = "tcp"
      }
      type = "ndjson"
      watch = [
        {
          allowbinary = false
          enabled     = true
          field       = "http.method"
          headers = [
            "Content-Type"
          ]
          name  = "RequestEvents"
          type  = "match"
          value = "GET"
        }
      ]
    }
    libscope = {
      commanddir = "path/to/dir"
      config = {
        enable = true
        format = {
          level   = "info"
          maxline = 1024
        }
        log = {
          level = "debug"
          transport = {
            buffer = "line"
            host   = "localhost"
            path   = "/var/run/appscope.sock"
            port   = 8080
            tls = {
              cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
              enable         = true
              validateserver = false
            }
            type = "tcp"
          }
        }
        transport = {
          buffer = "line"
          host   = "localhost"
          path   = "/var/run/appscope.sock"
          port   = 8080
          tls = {
            cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
            enable         = true
            validateserver = false
          }
          type = "tcp"
        }
      }
      configevent = true
    }
    metric = {
      enable       = true
      format       = "statsd"
      statsdmaxlen = 512
      statsdprefix = "myPrefix-"
      transport = {
        buffer = "line"
        host   = "localhost"
        path   = "/var/run/appscope.sock"
        port   = 8080
        tls = {
          cacertpath     = "/etc/ssl/certs/ca-certificates.crt"
          enable         = true
          validateserver = false
        }
        type = "tcp"
      }
      verbosity = 0
    }
    payload = {
      dir    = "/var/log/appscope/payloads"
      enable = false
    }
    protocol = [
      {
        binary  = false
        detect  = true
        len     = 128
        name    = "http"
        payload = true
        regex   = ".*"
      }
    ]
    tags = [
      {
        key   = "env"
        value = "prod"
      }
    ]
  }
  description = "Custom Appscope configuration for nginx"
  group_id    = "Cribl"
  id          = "appscopeConfig1"
  lib         = "cribl"
  tags        = "scope,nginx"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (Attributes) (see [below for nested schema](#nestedatt--config))
- `group_id` (String) The consumer group to which this instance belongs. Defaults to 'Cribl'.
- `id` (String) Unique ID for this Appscope config

### Optional

- `description` (String)
- `lib` (String) must be one of ["cribl", "cribl-custom", "custom"]
- `tags` (String)

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Optional:

- `cribl` (Attributes) (see [below for nested schema](#nestedatt--config--cribl))
- `custom` (Attributes List) (see [below for nested schema](#nestedatt--config--custom))
- `event` (Attributes) (see [below for nested schema](#nestedatt--config--event))
- `libscope` (Attributes) (see [below for nested schema](#nestedatt--config--libscope))
- `metric` (Attributes) (see [below for nested schema](#nestedatt--config--metric))
- `payload` (Attributes) (see [below for nested schema](#nestedatt--config--payload))
- `protocol` (Attributes List) (see [below for nested schema](#nestedatt--config--protocol))
- `tags` (Attributes List) (see [below for nested schema](#nestedatt--config--tags))

<a id="nestedatt--config--cribl"></a>
### Nested Schema for `config.cribl`

Optional:

- `authtoken` (String)
- `enable` (Boolean)
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--cribl--transport))
- `use_scope_source_transport` (Boolean)

<a id="nestedatt--config--cribl--transport"></a>
### Nested Schema for `config.cribl.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--cribl--transport--tls))
- `type` (String)

<a id="nestedatt--config--cribl--transport--tls"></a>
### Nested Schema for `config.cribl.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)




<a id="nestedatt--config--custom"></a>
### Nested Schema for `config.custom`

Optional:

- `ancestor` (String)
- `arg` (String)
- `config` (Attributes) Not Null (see [below for nested schema](#nestedatt--config--custom--config))
- `env` (String)
- `hostname` (String)
- `procname` (String)
- `username` (String)

<a id="nestedatt--config--custom--config"></a>
### Nested Schema for `config.custom.config`

Optional:

- `cribl` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--cribl))
- `event` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--event))
- `libscope` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--libscope))
- `metric` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--metric))
- `payload` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--payload))
- `protocol` (Attributes List) (see [below for nested schema](#nestedatt--config--custom--config--protocol))
- `tags` (Attributes List) (see [below for nested schema](#nestedatt--config--custom--config--tags))

<a id="nestedatt--config--custom--config--cribl"></a>
### Nested Schema for `config.custom.config.cribl`

Optional:

- `authtoken` (String)
- `enable` (Boolean)
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--cribl--transport))
- `use_scope_source_transport` (Boolean)

<a id="nestedatt--config--custom--config--cribl--transport"></a>
### Nested Schema for `config.custom.config.cribl.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--cribl--transport--tls))
- `type` (String)

<a id="nestedatt--config--custom--config--cribl--transport--tls"></a>
### Nested Schema for `config.custom.config.cribl.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)




<a id="nestedatt--config--custom--config--event"></a>
### Nested Schema for `config.custom.config.event`

Optional:

- `enable` (Boolean)
- `format` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--event--format))
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--event--transport))
- `type` (String) must be "ndjson"
- `watch` (Attributes List) (see [below for nested schema](#nestedatt--config--custom--config--event--watch))

<a id="nestedatt--config--custom--config--event--format"></a>
### Nested Schema for `config.custom.config.event.format`

Optional:

- `enhancefs` (Boolean) Not Null
- `maxeventpersec` (Number) Not Null


<a id="nestedatt--config--custom--config--event--transport"></a>
### Nested Schema for `config.custom.config.event.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--event--transport--tls))
- `type` (String)

<a id="nestedatt--config--custom--config--event--transport--tls"></a>
### Nested Schema for `config.custom.config.event.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)



<a id="nestedatt--config--custom--config--event--watch"></a>
### Nested Schema for `config.custom.config.event.watch`

Optional:

- `allowbinary` (Boolean)
- `enabled` (Boolean)
- `field` (String)
- `headers` (List of String)
- `name` (String)
- `type` (String) Not Null
- `value` (String)



<a id="nestedatt--config--custom--config--libscope"></a>
### Nested Schema for `config.custom.config.libscope`

Optional:

- `config` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--libscope--config))

<a id="nestedatt--config--custom--config--libscope--config"></a>
### Nested Schema for `config.custom.config.libscope.config`

Optional:

- `enable` (Boolean)
- `format` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--libscope--config--format))
- `log` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--libscope--config--log))
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--libscope--config--transport))

<a id="nestedatt--config--custom--config--libscope--config--format"></a>
### Nested Schema for `config.custom.config.libscope.config.format`

Optional:

- `level` (String) must be one of ["info", "debug", "trace"]
- `maxline` (Number)


<a id="nestedatt--config--custom--config--libscope--config--log"></a>
### Nested Schema for `config.custom.config.libscope.config.log`

Optional:

- `level` (String) must be one of ["info", "debug", "trace"]
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--libscope--config--log--transport))

<a id="nestedatt--config--custom--config--libscope--config--log--transport"></a>
### Nested Schema for `config.custom.config.libscope.config.log.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--libscope--config--log--transport--tls))
- `type` (String)

<a id="nestedatt--config--custom--config--libscope--config--log--transport--tls"></a>
### Nested Schema for `config.custom.config.libscope.config.log.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)




<a id="nestedatt--config--custom--config--libscope--config--transport"></a>
### Nested Schema for `config.custom.config.libscope.config.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--libscope--config--transport--tls))
- `type` (String)

<a id="nestedatt--config--custom--config--libscope--config--transport--tls"></a>
### Nested Schema for `config.custom.config.libscope.config.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)





<a id="nestedatt--config--custom--config--metric"></a>
### Nested Schema for `config.custom.config.metric`

Optional:

- `enable` (Boolean)
- `format` (String) must be one of ["statsd", "ndjson"]
- `statsdmaxlen` (Number)
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--metric--transport))

<a id="nestedatt--config--custom--config--metric--transport"></a>
### Nested Schema for `config.custom.config.metric.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--custom--config--metric--transport--tls))
- `type` (String)

<a id="nestedatt--config--custom--config--metric--transport--tls"></a>
### Nested Schema for `config.custom.config.metric.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)




<a id="nestedatt--config--custom--config--payload"></a>
### Nested Schema for `config.custom.config.payload`

Optional:

- `dir` (String)
- `enable` (Boolean)


<a id="nestedatt--config--custom--config--protocol"></a>
### Nested Schema for `config.custom.config.protocol`

Optional:

- `binary` (Boolean) Not Null
- `detect` (Boolean) Not Null
- `len` (Number) Not Null
- `name` (String) Not Null
- `payload` (Boolean) Not Null
- `regex` (String) Not Null


<a id="nestedatt--config--custom--config--tags"></a>
### Nested Schema for `config.custom.config.tags`

Optional:

- `key` (String) Not Null
- `value` (String) Not Null




<a id="nestedatt--config--event"></a>
### Nested Schema for `config.event`

Optional:

- `enable` (Boolean) Not Null
- `format` (Attributes) Not Null (see [below for nested schema](#nestedatt--config--event--format))
- `transport` (Attributes) Not Null (see [below for nested schema](#nestedatt--config--event--transport))
- `type` (String) Not Null; must be "ndjson"
- `watch` (Attributes List) Not Null (see [below for nested schema](#nestedatt--config--event--watch))

<a id="nestedatt--config--event--format"></a>
### Nested Schema for `config.event.format`

Optional:

- `enhancefs` (Boolean) Not Null
- `maxeventpersec` (Number) Not Null


<a id="nestedatt--config--event--transport"></a>
### Nested Schema for `config.event.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--event--transport--tls))
- `type` (String)

<a id="nestedatt--config--event--transport--tls"></a>
### Nested Schema for `config.event.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)



<a id="nestedatt--config--event--watch"></a>
### Nested Schema for `config.event.watch`

Optional:

- `allowbinary` (Boolean)
- `enabled` (Boolean)
- `field` (String)
- `headers` (List of String)
- `name` (String)
- `type` (String) Not Null
- `value` (String)



<a id="nestedatt--config--libscope"></a>
### Nested Schema for `config.libscope`

Optional:

- `commanddir` (String)
- `config` (Attributes) (see [below for nested schema](#nestedatt--config--libscope--config))
- `configevent` (Boolean)

<a id="nestedatt--config--libscope--config"></a>
### Nested Schema for `config.libscope.config`

Optional:

- `enable` (Boolean)
- `format` (Attributes) (see [below for nested schema](#nestedatt--config--libscope--config--format))
- `log` (Attributes) (see [below for nested schema](#nestedatt--config--libscope--config--log))
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--libscope--config--transport))

<a id="nestedatt--config--libscope--config--format"></a>
### Nested Schema for `config.libscope.config.format`

Optional:

- `level` (String) must be one of ["info", "debug", "trace", "warning", "error"]
- `maxline` (Number)


<a id="nestedatt--config--libscope--config--log"></a>
### Nested Schema for `config.libscope.config.log`

Optional:

- `level` (String) must be one of ["info", "debug", "trace"]
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--libscope--config--log--transport))

<a id="nestedatt--config--libscope--config--log--transport"></a>
### Nested Schema for `config.libscope.config.log.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--libscope--config--log--transport--tls))
- `type` (String)

<a id="nestedatt--config--libscope--config--log--transport--tls"></a>
### Nested Schema for `config.libscope.config.log.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)




<a id="nestedatt--config--libscope--config--transport"></a>
### Nested Schema for `config.libscope.config.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--libscope--config--transport--tls))
- `type` (String)

<a id="nestedatt--config--libscope--config--transport--tls"></a>
### Nested Schema for `config.libscope.config.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)





<a id="nestedatt--config--metric"></a>
### Nested Schema for `config.metric`

Optional:

- `enable` (Boolean)
- `format` (String) must be one of ["statsd", "ndjson"]
- `statsdmaxlen` (Number)
- `statsdprefix` (String)
- `transport` (Attributes) (see [below for nested schema](#nestedatt--config--metric--transport))
- `verbosity` (Number)

<a id="nestedatt--config--metric--transport"></a>
### Nested Schema for `config.metric.transport`

Optional:

- `buffer` (String) must be one of ["line", "full"]
- `host` (String)
- `path` (String)
- `port` (Number)
- `tls` (Attributes) (see [below for nested schema](#nestedatt--config--metric--transport--tls))
- `type` (String)

<a id="nestedatt--config--metric--transport--tls"></a>
### Nested Schema for `config.metric.transport.tls`

Optional:

- `cacertpath` (String)
- `enable` (Boolean)
- `validateserver` (Boolean)




<a id="nestedatt--config--payload"></a>
### Nested Schema for `config.payload`

Optional:

- `dir` (String) Not Null
- `enable` (Boolean) Not Null


<a id="nestedatt--config--protocol"></a>
### Nested Schema for `config.protocol`

Optional:

- `binary` (Boolean) Not Null
- `detect` (Boolean) Not Null
- `len` (Number) Not Null
- `name` (String) Not Null
- `payload` (Boolean) Not Null
- `regex` (String) Not Null


<a id="nestedatt--config--tags"></a>
### Nested Schema for `config.tags`

Optional:

- `key` (String) Not Null
- `value` (String) Not Null

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = criblio_appscope_config.my_criblio_appscope_config
  id = jsonencode({
    group_id = "Cribl"
    id = "scope-default"
  })
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import criblio_appscope_config.my_criblio_appscope_config '{"group_id": "Cribl", "id": "scope-default"}'
```
