---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "criblio_pack_breakers Resource - terraform-provider-criblio"
subcategory: ""
description: |-
  PackBreakers Resource
---

# criblio_pack_breakers (Resource)

PackBreakers Resource

## Example Usage

```terraform
resource "criblio_pack_breakers" "my_packbreakers" {
  description    = "Break HTTP access logs into events"
  group_id       = "myExistingGroupId"
  id             = "access-logs-v1"
  lib            = "custom"
  min_raw_length = 512
  pack           = "myExistingPackId"
  rules = [
    {
      condition           = "/GET|POST|PUT|DELETE/.test(_raw)"
      disabled            = false
      event_breaker_regex = "/\\n(?=\\S)/"
      fields = [
        {
          name  = "source"
          value = "\"nginx_access\""
        }
      ]
      max_event_bytes     = 65536
      name                = "nginx-access"
      parser_enabled      = false
      should_use_data_raw = false
      timestamp = {
        format = "%d/%b/%Y:%H:%M:%S %z"
        length = 150
        type   = "format"
      }
      timestamp_anchor_regex = "/\\d{2}\\/[A-Za-z]{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2}/"
      timestamp_earliest     = "-90days"
      timestamp_latest       = "+1day"
      timestamp_timezone     = "UTC"
      type                   = "regex"
    }
  ]
  tags = "nginx,access,prod"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `group_id` (String) group ID to GET
- `id` (String) Unique ID to PATCH for pack
- `pack` (String) pack ID to POST

### Optional

- `description` (String)
- `lib` (String) Default: "custom"; must be one of ["custom", "cribl-custom"]
- `min_raw_length` (Number) The  minimum number of characters in _raw to determine which rule to use. Default: 256
- `rules` (Attributes List) A list of rules that will be applied, in order, to the input data stream (see [below for nested schema](#nestedatt--rules))
- `tags` (String)

### Read-Only

- `items` (Attributes List) (see [below for nested schema](#nestedatt--items))

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `name` (String)
- `timestamp` (Attributes) Auto, manual format (strptime), or current time (see [below for nested schema](#nestedatt--rules--timestamp))

Optional:

- `condition` (String) JavaScript expression applied to the beginning of a file or object, to determine whether the rule applies to all contained events. Default: "true"
- `disabled` (Boolean) Disable this breaker rule (enabled by default). Default: false
- `event_breaker_regex` (String) The regex to match before attempting event breaker extraction. Use $ (end-of-string anchor) to prevent extraction. Default: "/[\\\\n\\\\r]+(?!\\\\s)/"
- `fields` (Attributes List) Key-value pairs to be added to each event (see [below for nested schema](#nestedatt--rules--fields))
- `max_event_bytes` (Number) The maximum number of bytes in an event before it is flushed to the pipelines. Default: 51200
- `parser_enabled` (Boolean) Default: false
- `should_use_data_raw` (Boolean) Enable to set an internal field on events indicating that the field in the data called _raw should be used. This can be useful for post processors that want to use that field for event._raw, instead of replacing it with the actual raw event. Default: false
- `timestamp_anchor_regex` (String) The regex to match before attempting timestamp extraction. Use $ (end-of-string anchor) to prevent extraction. Default: "/^/"
- `timestamp_earliest` (String) The earliest timestamp value allowed relative to now. Example: -42years. Parsed values prior to this date will be set to current time. Default: "-420weeks"
- `timestamp_latest` (String) The latest timestamp value allowed relative to now. Example: +42days. Parsed values after this date will be set to current time. Default: "+1week"
- `timestamp_timezone` (String) Timezone to assign to timestamps without timezone info. Default: "local"
- `type` (String) Default: "regex"; must be one of ["regex", "json", "json_array", "header", "timestamp", "csv", "aws_cloudtrail", "aws_vpcflow"]

<a id="nestedatt--rules--timestamp"></a>
### Nested Schema for `rules.timestamp`

Optional:

- `format` (String)
- `length` (Number) Default: 150
- `type` (String) Default: "auto"; must be one of ["auto", "format", "current"]


<a id="nestedatt--rules--fields"></a>
### Nested Schema for `rules.fields`

Required:

- `value` (String) The JavaScript expression used to compute the field's value (can be constant)

Optional:

- `name` (String)



<a id="nestedatt--items"></a>
### Nested Schema for `items`

Read-Only:

- `comments` (Attributes List) Comments (see [below for nested schema](#nestedatt--items--comments))
- `groups` (Attributes Map) (see [below for nested schema](#nestedatt--items--groups))
- `id` (String) Routes ID
- `routes` (Attributes List) Pipeline routing rules (see [below for nested schema](#nestedatt--items--routes))

<a id="nestedatt--items--comments"></a>
### Nested Schema for `items.comments`

Read-Only:

- `additional_properties` (String) Parsed as JSON.
- `comment` (String) Optional, short description of this Route's purpose


<a id="nestedatt--items--groups"></a>
### Nested Schema for `items.groups`

Read-Only:

- `description` (String) Short description of this group
- `disabled` (Boolean) Whether this group is disabled
- `name` (String)


<a id="nestedatt--items--routes"></a>
### Nested Schema for `items.routes`

Read-Only:

- `additional_properties` (String) Parsed as JSON.
- `description` (String)
- `disabled` (Boolean) Disable this routing rule
- `enable_output_expression` (Boolean) Enable to use a JavaScript expression that evaluates to the name of the Description below. Default: false
- `filter` (String) JavaScript expression to select data to route. Default: "true"
- `final` (Boolean) Flag to control whether the event gets consumed by this Route (Final), or cloned into it. Default: true
- `id` (String)
- `name` (String)
- `output` (String) Parsed as JSON.
- `output_expression` (String) Parsed as JSON.
- `pipeline` (String) Pipeline to send the matching data to

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = criblio_pack_breakers.my_criblio_pack_breakers
  id = jsonencode({
    group_id = "myExistingGroupId"
    id = "myUniquePackBreakersIdToCRUD"
    pack = "myExistingPackId"
  })
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import criblio_pack_breakers.my_criblio_pack_breakers '{"group_id": "myExistingGroupId", "id": "myUniquePackBreakersIdToCRUD", "pack": "myExistingPackId"}'
```
